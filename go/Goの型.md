---
tags:
  - 初めてのGo言語
---

## 抽象型と具象型

[[型]]には、**抽象型** (abstract type) と **具象型** (concrete type) という分類がある。Goで使われる型はすべて抽象型と具象型のいずれかである。

- [[抽象型]]は型が<u>何を</u>するものかを定義するが、それを<u>どのように</u>するかは規定しない。つまり、[[実装]]を提供しない。
- [[具象型]]は<u>何を</u>、<u>どのように</u>するかを規定する。つまり、データの記憶のされ方を規定した上で、型に付随して定義されるメソッドの実装を提供する。

## 基底型

すべての型は、その型のベースになる型、**[[基底型]]** (underlying type) を持つ。基底型は、変数に代入できるかの判定や、[[ジェネリクス]]と深い関係がある。


基底型は次のように決まる。

- 型 `T` が[[基本型]] ([[論理型]]、[[数値型]]、[[文字列型]]) あるいは[[型リテラル]] (type literal) の場合 → `T` の基底型は `T` (自分自身)
- それ以外の場合 → `T` の基底型は `T` の宣言で参照している型

## 型の定義

[構造体の定義例](Goの構造体.md#構造体の宣言)では「`Person` という名前の[[ユーザー定義型]]を宣言しており、後に続く『[[構造体リテラル]]』を基底型として持つ」と解釈できる。

構造体リテラル以外に、任意の基本型または合成型のリテラルを使って具体的な型を定義できる。

```go
type Score int                    // int を基底型として Score を定義
type Converter func(string) Score // string を引数、Score を戻り値とする関数型 Converter を定義
type TeamScores map[string]Score  // string を Score にマップする map、TeamScores を定義
```

Goでは任意のレベルのブロックで型を宣言でき、その型へのアクセスは型を定義したスコープ内に限定される。[[パッケージブロック]]レベルの型がエクスポートされたときのみ例外となる。

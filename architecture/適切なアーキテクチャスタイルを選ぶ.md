---
tags:
  - ソフトウェアアーキテクチャの基礎
---

## 判断基準

- [[アーキテクト]]が設計する2つのもの
  - 指定されたあらゆるドメイン
  - システムを成功させるために必要なその他すべての構造要素
- 設計上の決定をするにあたってアーキテクトがしっかりと考えるべきこと
  - **[[ドメイン]]**
    - アーキテクチャの[[運用特性]]に影響する側面を理解する
  - **構造に影響を与えるアーキテクチャ特性**
    - ドメインやその他外部要因をサポートするために発見、解明する
  - **[[データアーキテクチャ]]**
    - [[データ設計]]が設計に与える影響を理解する
  - **組織的な要因**
    - 外部要因が設計に与える影響を理解する
    - e.g.
      - クラウドベンダーのコスト
      - M&A計画時のオープンなソリューション&統合アーキテクチャ
  - **プロセス、チーム、および運用上の関心事に関する知識**
    - [[ソフトウェア開発プロセス]]、運用との相互作用 (およびその欠如)、QAプロセスなどの具体的なプロジェクト要因がアーキテクチャ設計に与える影響を理解する
    - e.g. アジャイルなエンジニアプラクティスが成熟していない組織は、そのプラクティスに依存したアーキテクチャスタイルでの成功が難しい
  - **ドメイン / アーキテクチャの[[同型性]]**
    - 問題領域によってはアーキテクチャの[[トポロジー]]に一致するもの・しないものがある
    - e.g.
      - カスタマイズ性を必要とするシステム → カスタマイズをプラグインとして設計できる[[マイクロカーネルアーキテクチャ]]が適している
      - 多数の離散的演算を必要とするゲノム解析 → 離散的プロセッサーを提供する[[スペースベースアーキテクチャ]]が適している
      - 高度にスケーラブルなシステム → 大規模な[[モノリシック]]設計は適していない
        - 高度に結合されたコードベースで大量ユーザーの同時使用サポートは困難なため
      - 意味的な結合を多く含む問題領域 → 高度に分離された[[分散アーキテクチャ]]と相性が悪い
        - e.g. 複数ページのフォームで構成 + 各フォームが前ページのコンテキストに依存しているアプリケーション → この場合は[[サービスベースアーキテクチャ]]のような結合度の高い分散アーキテクチャが適している
- アーキテクトが決定しなければならないこと
  - **モノリスか分散か？**
    - 単一の[[アーキテクチャ特性]]のセットを考慮すれば十分な場合 … [[モノリス]]が適している
      - 他要因で分散アーキテクチャに向かうこともある
    - システムの各部分で異なるアーキテクチャ特性のまとまりが必要な場合 … [[分散アーキテクチャ]]が適している
    - [[アーキテクチャ量子]]の概念を用いて判断する
  - **データをどこに置くべきか？**
    - [[モノリシックアーキテクチャ]]の場合
      - アーキテクトは一般的に単一〜複数のリレーショナルデータベースを想定する
    - [[分散アーキテクチャ]]の場合
      - アーキテクトはどのサービスがデータを保持すべきか決定しなければならない
        - ワークフロー構築のためにアーキテクチャ全体でどのようにデータが流れなければならないか考える
      - アーキテクチャ設計の際は構造と振る舞いの両方を考慮しなければならない
        - より良い組み合わせを見つけるため、イテレーティブな設計を恐れないこと
  - **サービス間の通信は同期型か非同期型か？**
    - データ分割決定後にサービス間の通信形式を検討する
    - [[同期通信]] … 便利だが望ましくない特性 (スケーラビリティ、信頼性、etc.) に繋がり得る
    - [[非同期通信]] … パフォーマンスやスケール面でメリットをもたらすが、多くのデメリット (データ同期、デッドロック、競合状態、デバッグ) を抱える
    - 設計、実装、デバッグ面で課題が少ない[[同期通信]]を可能な限り採用し、必要に応じて[[非同期通信]]を使用すべき
- 設計プロセスの結果
  - アーキテクトがどのような[[アーキテクチャスタイル]] (およびそのハイブリッド) を採用したかが反映されたアーキテクチャトポロジー
  - アーキテクトが最も努力を必要とした設計部分についての [[ADR]] (アーキテクチャディシジョンレコード)
  - 重要な設計指針やアーキテクチャの運用特性を保護するためのアーキテクチャ[[適応度関数]]